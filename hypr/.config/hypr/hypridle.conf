# ─────────────────────────────────────────────
# HYPRIDLE — Ideal Laptop Setup
# Smooth dim → off → lock → suspend cycle
# Works perfectly with Hyprlock on Hyprland
# ─────────────────────────────────────────────

general {
    # Always lock using Hyprlock instead of loginctl
    lock_cmd = pidof hyprlock || hyprlock

    # Before system sleep, lock immediately
    before_sleep_cmd = pidof hyprlock || hyprlock

    # Ensure screen turns on cleanly after waking up
    after_sleep_cmd = hyprctl dispatch dpms on
}

# ─────────────────────────────────────────────
# 1. DIM screen after 2 minutes of inactivity
# ─────────────────────────────────────────────
listener {
    timeout = 120
    on-timeout = brightnessctl -s set 10%
    on-resume = brightnessctl -r
}

# ─────────────────────────────────────────────
# 2. Turn screen OFF after 5 minutes
# ─────────────────────────────────────────────
listener {
    timeout = 300
    on-timeout = hyprctl dispatch dpms off
    on-resume = hyprctl dispatch dpms on
}

# ─────────────────────────────────────────────
# 3. LOCK screen at 5 minutes (same as DPMS)
# ─────────────────────────────────────────────
listener {
    timeout = 300
    on-timeout = pidof hyprlock || hyprlock
}

# ─────────────────────────────────────────────
# 4. Suspend after 10 minutes of inactivity
# ─────────────────────────────────────────────
listener {
    timeout = 600
    on-timeout = systemctl suspend
}

# ─────────────────────────────────────────────
# OPTIONAL: Laptop lid close (only if you want)
# Enable only if you didn't configure logind.conf
# ─────────────────────────────────────────────
# listener {
#     on-event = lid_close
#     on-timeout = pidof hyprlock || hyprlock
#     on-resume = hyprctl dispatch dpms on
# }

